# ðŸ“± Ø¯Ù„ÙŠÙ„ ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø±Ø§ÙƒØ¨ Ø§Ù„Ø´Ø§Ù…Ù„ - ØªØ·Ø¨ÙŠÙ‚ ØªÙˆØµÙŠÙ„Ø©

## ðŸ“‹ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª

1. [Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©](#Ù†Ø¸Ø±Ø©-Ø¹Ø§Ù…Ø©)
2. [Ù‡ÙŠÙƒÙ„ÙŠØ© Ø§Ù„Ù†Ø¸Ø§Ù…](#Ù‡ÙŠÙƒÙ„ÙŠØ©-Ø§Ù„Ù†Ø¸Ø§Ù…)
3. [Ø¯ÙˆØ±Ø© Ø­ÙŠØ§Ø© Ø§Ù„Ø±Ø§ÙƒØ¨](#Ø¯ÙˆØ±Ø©-Ø­ÙŠØ§Ø©-Ø§Ù„Ø±Ø§ÙƒØ¨)
4. [Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©](#Ø§Ù„ÙˆØ¸Ø§Ø¦Ù-Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©)
5. [Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©](#Ø§Ù„ÙˆØ¸Ø§Ø¦Ù-Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©)
6. [Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª](#Ù†Ù…Ø§Ø°Ø¬-Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª)
7. [ÙˆØ§Ø¬Ù‡Ø§Øª Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª (APIs)](#ÙˆØ§Ø¬Ù‡Ø§Øª-Ø¨Ø±Ù…Ø¬Ø©-Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª)
8. [Ø±Ø­Ù„Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…](#Ø±Ø­Ù„Ø§Øª-Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…)
9. [Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ©](#Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©-Ø§Ù„ØªÙ‚Ù†ÙŠØ©)

---

## ðŸŽ¯ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

### Ù…Ø§ Ù‡Ùˆ ØªØ·Ø¨ÙŠÙ‚ ØªÙˆØµÙŠÙ„Ø©ØŸ

**ØªÙˆØµÙŠÙ„Ø©** Ù‡Ùˆ ØªØ·Ø¨ÙŠÙ‚ Ù…Ø´Ø§Ø±ÙƒØ© Ø±Ø­Ù„Ø§Øª (Ridesharing) ÙŠØ±Ø¨Ø· Ø¨ÙŠÙ† Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ† ÙˆØ§Ù„Ø±ÙƒØ§Ø¨ ÙÙŠ Ø§Ù„Ø¹Ø±Ø§Ù‚. ÙŠÙˆÙØ± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ **Ù†Ù…ÙˆØ°Ø¬ÙŠÙ† Ù„Ù„Ø¹Ù…Ù„**:

#### ðŸ”µ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø£ÙˆÙ„: Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„Ø­Ø¬Ø² Ø§Ù„Ù…Ø¨Ø§Ø´Ø±
- Ø§Ù„Ø±Ø§ÙƒØ¨ ÙŠØ¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø±Ø­Ù„Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© (Offers)
- ÙŠØ®ØªØ§Ø± Ø§Ù„Ø±Ø­Ù„Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©
- ÙŠØ­Ø¬Ø² Ù…Ø¨Ø§Ø´Ø±Ø© Ù…Ø¹ Ø§Ù„Ø³Ø§Ø¦Ù‚

#### ðŸ”´ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø«Ø§Ù†ÙŠ: Ù†Ø´Ø± Ø§Ù„Ø·Ù„Ø¨ ÙˆØ§Ù„Ø§Ù†ØªØ¸Ø§Ø±
- Ø§Ù„Ø±Ø§ÙƒØ¨ ÙŠÙ†Ø´Ø± Ø·Ù„Ø¨ Ø±Ø­Ù„Ø© (Demand)
- Ø§Ù„Ø³Ø§Ø¦Ù‚ÙˆÙ† ÙŠØ±Ø¯ÙˆÙ† Ø¨Ø¹Ø±ÙˆØ¶Ù‡Ù…
- Ø§Ù„Ø±Ø§ÙƒØ¨ ÙŠØ®ØªØ§Ø± Ø£ÙØ¶Ù„ Ø¹Ø±Ø¶

### Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„Ø±Ø§ÙƒØ¨

âœ… **ØªØ³Ø¬ÙŠÙ„ Ø­Ø³Ø§Ø¨ ÙˆØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ**
âœ… **Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…ØªÙ‚Ø¯Ù… Ø¹Ù† Ø§Ù„Ø±Ø­Ù„Ø§Øª**
âœ… **Ù†Ø´Ø± Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø±Ø­Ù„Ø§Øª**
âœ… **Ø­Ø¬Ø² Ø§Ù„Ø±Ø­Ù„Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©**
âœ… **Ø§Ù„Ù…Ø±Ø§Ø³Ù„Ø© Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø© Ù…Ø¹ Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†**
âœ… **Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„ÙÙˆØ±ÙŠØ©**
âœ… **ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ† ÙˆØ§Ù„Ø±Ø­Ù„Ø§Øª**
âœ… **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª ÙˆØ§Ù„Ø·Ù„Ø¨Ø§Øª**
âœ… **Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø´Ø®ØµÙŠØ©**
âœ… **Ø¯Ø¹Ù… Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù„ØºØ§Øª (Ø¹Ø±Ø¨ÙŠØŒ Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØŒ ÙƒØ±Ø¯ÙŠ)**

---

## ðŸ—ï¸ Ù‡ÙŠÙƒÙ„ÙŠØ© Ø§Ù„Ù†Ø¸Ø§Ù…

### Ø§Ù„Ø¹Ù…Ø§Ø±Ø© Ø§Ù„ÙÙ†ÙŠØ© (Technical Architecture)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Frontend (React)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  Pages   â”‚  â”‚Componentsâ”‚  â”‚ Context  â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜              â”‚
â”‚       â”‚              â”‚            â”‚                      â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ HTTP/REST + WebSocket
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Backend (Express.js)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  Routes  â”‚â†’ â”‚Controllersâ”‚â†’ â”‚  Models  â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚                    â”‚
â”‚  â”‚Middlewareâ”‚  â”‚  Socket  â”‚        â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Database (PostgreSQL)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚Users â”‚ â”‚ Demands â”‚ â”‚ Offers â”‚ â”‚ Bookings â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ØªØ¯ÙÙ‚ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Data Flow)

```
Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… â†’ Frontend (React) â†’ API Request â†’ Backend Controllers
                                               â†“
                                        Database Query
                                               â†“
                                        Response â†’ Frontend
                                               â†“
                                        ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
```

---

## ðŸ”„ Ø¯ÙˆØ±Ø© Ø­ÙŠØ§Ø© Ø§Ù„Ø±Ø§ÙƒØ¨

### 1ï¸âƒ£ Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙˆØ§Ù„Ù…ØµØ§Ø¯Ù‚Ø©

#### Ø§Ù„ØªØ³Ø¬ÙŠÙ„ (Registration)
```javascript
POST /api/auth/register
{
  "name": "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯",
  "email": "ahmed@example.com",
  "password": "SecurePass123",
  "isDriver": false,  // false = Ø±Ø§ÙƒØ¨
  "languagePreference": "ar"
}
```

**Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„:**
1. Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠÙ…Ù„Ø£ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ³Ø¬ÙŠÙ„
2. Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
3. ÙŠØªÙ… ØªØ´ÙÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± (bcrypt)
4. Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
5. Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
6. Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠÙØ¹Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø±Ø³Ù„

**Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„:**
- âœ… Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ (Ù…Ø·Ù„ÙˆØ¨)
- âœ… Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ (ÙØ±ÙŠØ¯ØŒ Ù…Ø·Ù„ÙˆØ¨)
- âœ… ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± (8 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„)
- ðŸ”˜ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¯ÙˆØ± (Ø±Ø§ÙƒØ¨/Ø³Ø§Ø¦Ù‚)
- ðŸ”˜ Ø§Ù„Ù„ØºØ© Ø§Ù„Ù…ÙØ¶Ù„Ø© (Ø§ÙØªØ±Ø§Ø¶ÙŠ: Ø¹Ø±Ø¨ÙŠ)

#### ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ (Login)
```javascript
POST /api/auth/login
{
  "email": "ahmed@example.com",
  "password": "SecurePass123"
}

// Response
{
  "token": "eyJhbGciOiJIUzI1NiIs...",
  "user": {
    "id": "uuid",
    "name": "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯",
    "email": "ahmed@example.com",
    "isDriver": false,
    "rating_avg": 4.8,
    "rating_count": 12
  }
}
```

#### ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
- **Ù…Ø·Ù„ÙˆØ¨ Ù‚Ø¨Ù„:** Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø·Ù„Ø¨Ø§Øª (Demands) Ø£Ùˆ Ø§Ù„Ø¹Ø±ÙˆØ¶ (Offers)
- **Ø§Ù„ØºØ±Ø¶:** Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨Ø±ÙŠØ¯ ÙˆØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„ÙˆÙ‡Ù…ÙŠØ©
- **Ø§Ù„Ø¢Ù„ÙŠØ©:** Ø±Ù…Ø² JWT Ù…Ø±Ø³Ù„ ÙÙŠ Ø±Ø§Ø¨Ø· Ø§Ù„ØªÙØ¹ÙŠÙ„

---

### 2ï¸âƒ£ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø±Ø­Ù„Ø§Øª

#### Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
```javascript
GET /api/offers?fromCity=Ø¨ØºØ¯Ø§Ø¯&toCity=Ø§Ù„Ø¨ØµØ±Ø©
```

#### Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
```javascript
GET /api/offers/search
{
  "fromCity": "Ø¨ØºØ¯Ø§Ø¯",
  "toCity": "Ø§Ù„Ø¨ØµØ±Ø©",
  "departureDate": "2025-11-20",
  "minPrice": 5000,
  "maxPrice": 15000,
  "minSeats": 2,
  "sortBy": "price_asc"  // or "rating", "date"
}
```

**Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø¨Ø­Ø«:**
- ðŸ“ **Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…ØºØ§Ø¯Ø±Ø©** (fromCity)
- ðŸ“ **Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„ÙˆØ¬Ù‡Ø©** (toCity)
- ðŸ“… **ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ØºØ§Ø¯Ø±Ø©** (departureDate)
- ðŸ’° **Ù†Ø·Ø§Ù‚ Ø§Ù„Ø³Ø¹Ø±** (minPrice, maxPrice)
- ðŸ‘¥ **Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù‚Ø§Ø¹Ø¯** (minSeats)
- â­ **ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨** (Ø§Ù„Ø³Ø¹Ø±ØŒ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…ØŒ Ø§Ù„ØªØ§Ø±ÙŠØ®)

#### Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø±Ø­Ù„Ø© Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶Ø©
```javascript
{
  "id": "uuid",
  "driverName": "Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ",
  "driverRating": 4.8,
  "fromCity": "Ø¨ØºØ¯Ø§Ø¯",
  "toCity": "Ø§Ù„Ø¨ØµØ±Ø©",
  "departureTime": "2025-11-20T08:00:00Z",
  "availableSeats": 3,
  "pricePerSeat": 10000,
  "vehicleType": "Ø³ÙŠØ¯Ø§Ù†",
  "vehicleModel": "ØªÙˆÙŠÙˆØªØ§ ÙƒÙˆØ±ÙˆÙ„Ø§ 2020",
  "notes": "Ø±Ø­Ù„Ø© Ù…Ø±ÙŠØ­Ø© ÙˆØ¢Ù…Ù†Ø©"
}
```

---

### 3ï¸âƒ£ Ø­Ø¬Ø² Ø§Ù„Ø±Ø­Ù„Ø©

#### Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø­Ø¬Ø²
```javascript
POST /api/bookings
{
  "offerId": "uuid-of-offer",
  "seats": 2,
  "message": "Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ø£Ø±Ø¬Ùˆ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø­Ø·Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"
}
```

**Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø­Ø¬Ø² (Booking States):**
```
pending (Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±)
    â†“
    â”œâ†’ confirmed (ØªÙ… Ø§Ù„ØªØ£ÙƒÙŠØ¯) â†’ completed (Ù…ÙƒØªÙ…Ù„)
    â”œâ†’ rejected (ØªÙ… Ø§Ù„Ø±ÙØ¶)
    â””â†’ cancelled (ØªÙ… Ø§Ù„Ø¥Ù„ØºØ§Ø¡)
```

#### ØªØ¯ÙÙ‚ Ø§Ù„Ø­Ø¬Ø²:
1. **Ø§Ù„Ø±Ø§ÙƒØ¨ ÙŠØ­Ø¬Ø²** â†’ Ø§Ù„Ø­Ø§Ù„Ø©: `pending`
2. **Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ø³Ø§Ø¦Ù‚** Ø¹Ø¨Ø± Socket.io
3. **Ø§Ù„Ø³Ø§Ø¦Ù‚ ÙŠÙ‚Ø¨Ù„/ÙŠØ±ÙØ¶**
   - Ù‚Ø¨ÙˆÙ„: Ø§Ù„Ø­Ø§Ù„Ø© ØªØµØ¨Ø­ `confirmed`
   - Ø±ÙØ¶: Ø§Ù„Ø­Ø§Ù„Ø© ØªØµØ¨Ø­ `rejected`
4. **Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ø±Ø§ÙƒØ¨** Ø¨Ø§Ù„Ù‚Ø±Ø§Ø±
5. **Ø¨Ø¹Ø¯ Ø§Ù„Ø±Ø­Ù„Ø©:** Ø§Ù„Ø­Ø§Ù„Ø© ØªØµØ¨Ø­ `completed`
6. **Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ù…ØªØ§Ø­** Ù„Ù„Ø·Ø±ÙÙŠÙ†

#### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª

**Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª:**
```javascript
GET /api/bookings/my/bookings
// ÙŠØ¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (ÙƒØ±Ø§ÙƒØ¨ Ø£Ùˆ Ø³Ø§Ø¦Ù‚)
```

**Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø­Ø¬Ø²:**
```javascript
PUT /api/bookings/:id/cancel
```

**Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª:**
```javascript
GET /api/bookings/my/stats
{
  "totalBookings": 15,
  "pendingBookings": 2,
  "confirmedBookings": 10,
  "completedBookings": 8,
  "cancelledBookings": 3
}
```

---

### 4ï¸âƒ£ Ù†Ø´Ø± Ø·Ù„Ø¨ Ø±Ø­Ù„Ø© (Demand)

#### Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø·Ù„Ø¨
```javascript
POST /api/demands
{
  "fromCity": "Ø¨ØºØ¯Ø§Ø¯",
  "toCity": "Ø£Ø±Ø¨ÙŠÙ„",
  "earliestTime": "2025-11-20T06:00:00Z",
  "latestTime": "2025-11-20T10:00:00Z",
  "seats": 2,
  "budgetMax": 12000,
  "notes": "Ø£ÙØ¶Ù„ Ø±Ø­Ù„Ø© ØµØ¨Ø§Ø­ÙŠØ©"
}
```

**Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø·Ù„Ø¨:**
- ðŸ“ **Ø§Ù„Ù…Ø³Ø§Ø±:** Ù…Ù† Ù…Ø¯ÙŠÙ†Ø© Ø¥Ù„Ù‰ Ù…Ø¯ÙŠÙ†Ø©
- â° **Ù†Ø§ÙØ°Ø© Ø§Ù„ÙˆÙ‚Øª:** Ø£Ù‚Ø±Ø¨ ÙˆØ£Ø¨Ø¹Ø¯ ÙˆÙ‚Øª Ù…ØºØ§Ø¯Ø±Ø©
- ðŸ‘¥ **Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù‚Ø§Ø¹Ø¯:** 1-7
- ðŸ’° **Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ù‚ØµÙˆÙ‰:** Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ø³Ø¹Ø±
- ðŸ“ **Ù…Ù„Ø§Ø­Ø¸Ø§Øª:** Ø·Ù„Ø¨Ø§Øª Ø®Ø§ØµØ©

#### Ø±Ø¯ÙˆØ¯ Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨

**Ø§Ù„Ø³Ø§Ø¦Ù‚ ÙŠØ±Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨:**
```javascript
POST /api/demand-responses
{
  "demandId": "uuid",
  "offerPrice": 10000,  // Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù…Ù‚ØªØ±Ø­ Ù„ÙƒÙ„ Ù…Ù‚Ø¹Ø¯
  "availableSeats": 4,
  "message": "Ø±Ø­Ù„Ø© Ù…Ø±ÙŠØ­Ø© ÙÙŠ Ø³ÙŠØ§Ø±Ø© Ø­Ø¯ÙŠØ«Ø©"
}
```

**Ø§Ù„Ø±Ø§ÙƒØ¨ ÙŠØ³ØªØ¹Ø±Ø¶ Ø§Ù„Ø±Ø¯ÙˆØ¯:**
```javascript
GET /api/demand-responses/demand/:demandId
[
  {
    "id": "response-uuid-1",
    "driverName": "Ø¹Ù„ÙŠ Ø­Ø³Ù†",
    "driverRating": 4.9,
    "offerPrice": 10000,
    "availableSeats": 4,
    "message": "Ø±Ø­Ù„Ø© Ù…Ø±ÙŠØ­Ø©",
    "status": "pending"
  },
  {
    "id": "response-uuid-2",
    "driverName": "Ø³Ø¹Ø¯ ÙƒØ±ÙŠÙ…",
    "driverRating": 4.7,
    "offerPrice": 11000,
    "availableSeats": 3,
    "status": "pending"
  }
]
```

**Ø§Ù„Ø±Ø§ÙƒØ¨ ÙŠÙ‚Ø¨Ù„/ÙŠØ±ÙØ¶ Ø§Ù„Ø±Ø¯:**
```javascript
PATCH /api/demand-responses/:id/status
{
  "status": "accepted"  // or "rejected"
}
```

#### Ø­Ø§Ù„Ø§Øª Ø±Ø¯ Ø§Ù„Ø³Ø§Ø¦Ù‚:
- â³ **pending:** ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ù‚Ø±Ø§Ø± Ø§Ù„Ø±Ø§ÙƒØ¨
- âœ… **accepted:** Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø±Ø§ÙƒØ¨ (ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ ØªØ±ØªÙŠØ¨ Ø±Ø­Ù„Ø©)
- âŒ **rejected:** Ø±ÙØ¶ Ø§Ù„Ø±Ø§ÙƒØ¨
- ðŸš« **cancelled:** Ø§Ù„Ø³Ø§Ø¦Ù‚ Ø£Ù„ØºÙ‰ Ø§Ù„Ø¹Ø±Ø¶

---

### 5ï¸âƒ£ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø±Ø§Ø³Ù„Ø©

#### Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©
```javascript
POST /api/messages
{
  "rideType": "offer",  // or "demand"
  "rideId": "uuid",
  "content": "Ù…ØªÙ‰ Ø³ØªØµÙ„ Ø¥Ù„Ù‰ Ù†Ù‚Ø·Ø© Ø§Ù„Ø§Ù†Ø·Ù„Ø§Ù‚ØŸ"
}
```

#### Ø§Ø³ØªØ¹Ø±Ø§Ø¶ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª
```javascript
GET /api/messages/conversations
[
  {
    "rideId": "uuid",
    "rideType": "offer",
    "otherUser": {
      "id": "user-uuid",
      "name": "Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ"
    },
    "lastMessage": "Ø³Ø£ØµÙ„ Ø®Ù„Ø§Ù„ 10 Ø¯Ù‚Ø§Ø¦Ù‚",
    "unreadCount": 2,
    "lastMessageAt": "2025-11-18T14:30:00Z"
  }
]
```

#### Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ù„Ø±Ø­Ù„Ø© Ù…Ø­Ø¯Ø¯Ø©
```javascript
GET /api/messages/offer/:offerId
[
  {
    "id": "msg-1",
    "senderId": "uuid",
    "senderName": "Ø£Ø­Ù…Ø¯",
    "content": "Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± 5 Ø¯Ù‚Ø§Ø¦Ù‚ØŸ",
    "isRead": true,
    "createdAt": "2025-11-18T14:25:00Z"
  },
  {
    "id": "msg-2",
    "senderId": "uuid-2",
    "senderName": "Ù…Ø­Ù…Ø¯",
    "content": "Ø¨Ø§Ù„ØªØ£ÙƒÙŠØ¯ØŒ Ù„Ø§ Ù…Ø´ÙƒÙ„Ø©",
    "isRead": false,
    "createdAt": "2025-11-18T14:26:00Z"
  }
]
```

#### Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…Ø±Ø§Ø³Ù„Ø©:
- ðŸ’¬ **Ø±Ø³Ø§Ø¦Ù„ ÙÙˆØ±ÙŠØ©** Ø¹Ø¨Ø± Socket.io
- ðŸ‘€ **Ø­Ø§Ù„Ø© Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©** (Ù…Ù‚Ø±ÙˆØ¡Ø©/ØºÙŠØ± Ù…Ù‚Ø±ÙˆØ¡Ø©)
- ðŸ”” **Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø±Ø³Ø§Ø¦Ù„** Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
- ðŸ“± **ÙˆØ§Ø¬Ù‡Ø© Ù…Ø­Ø§Ø¯Ø«Ø©** Ø³Ù‡Ù„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
- ðŸ” **Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª**

---

### 6ï¸âƒ£ Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª

#### Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù„Ù„Ø±Ø§ÙƒØ¨

| Ø§Ù„Ù†ÙˆØ¹ | Ø§Ù„ÙˆØµÙ | Ù…ØªÙ‰ ÙŠØ¸Ù‡Ø± |
|------|-------|----------|
| `booking_accepted` | ØªÙ… Ù‚Ø¨ÙˆÙ„ Ø­Ø¬Ø²Ùƒ | Ø¹Ù†Ø¯Ù…Ø§ ÙŠÙ‚Ø¨Ù„ Ø§Ù„Ø³Ø§Ø¦Ù‚ Ø§Ù„Ø­Ø¬Ø² |
| `booking_rejected` | ØªÙ… Ø±ÙØ¶ Ø­Ø¬Ø²Ùƒ | Ø¹Ù†Ø¯Ù…Ø§ ÙŠØ±ÙØ¶ Ø§Ù„Ø³Ø§Ø¦Ù‚ Ø§Ù„Ø­Ø¬Ø² |
| `demand_response` | Ø±Ø¯ Ø¬Ø¯ÙŠØ¯ Ø¹Ù„Ù‰ Ø·Ù„Ø¨Ùƒ | Ø¹Ù†Ø¯Ù…Ø§ ÙŠØ±Ø¯ Ø³Ø§Ø¦Ù‚ Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨ |
| `response_accepted` | ØªÙ… Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø±Ø¯ Ø§Ù„Ù…Ø®ØªØ§Ø± | ØªØ£ÙƒÙŠØ¯ Ù‚Ø¨ÙˆÙ„ Ø±Ø¯ Ø§Ù„Ø³Ø§Ø¦Ù‚ |
| `message_received` | Ø±Ø³Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø© | Ø±Ø³Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† Ø§Ù„Ø³Ø§Ø¦Ù‚ |
| `booking_cancelled` | ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø­Ø¬Ø² | Ø¥Ù„ØºØ§Ø¡ Ù…Ù† Ø£ÙŠ Ø·Ø±Ù |

#### Ø§Ø³ØªØ¹Ø±Ø§Ø¶ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
```javascript
GET /api/notifications
{
  "notifications": [
    {
      "id": "notif-1",
      "type": "booking_accepted",
      "title": "ØªÙ… Ù‚Ø¨ÙˆÙ„ Ø­Ø¬Ø²Ùƒ",
      "message": "Ø§Ù„Ø³Ø§Ø¦Ù‚ Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ Ù‚Ø¨Ù„ Ø­Ø¬Ø²Ùƒ Ù„Ø±Ø­Ù„Ø© Ø¨ØºØ¯Ø§Ø¯-Ø§Ù„Ø¨ØµØ±Ø©",
      "data": {
        "bookingId": "uuid",
        "offerId": "uuid",
        "driverName": "Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ"
      },
      "isRead": false,
      "createdAt": "2025-11-18T15:00:00Z"
    }
  ],
  "pagination": {...}
}
```

#### Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
```javascript
// Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ØºÙŠØ± Ø§Ù„Ù…Ù‚Ø±ÙˆØ¡Ø©
GET /api/notifications/unread-count

// Ø¬Ù„Ø¨ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ØºÙŠØ± Ø§Ù„Ù…Ù‚Ø±ÙˆØ¡Ø© ÙÙ‚Ø·
GET /api/notifications/unread

// ØªØ­Ø¯ÙŠØ¯ Ø¥Ø´Ø¹Ø§Ø± ÙƒÙ…Ù‚Ø±ÙˆØ¡
PATCH /api/notifications/:id/read

// ØªØ­Ø¯ÙŠØ¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙƒÙ…Ù‚Ø±ÙˆØ¡Ø©
PATCH /api/notifications/mark-all-read

// Ø­Ø°Ù Ø¥Ø´Ø¹Ø§Ø±
DELETE /api/notifications/:id
```

#### Ø§Ù„Ù…Ù„Ø§Ø­Ø© Ø§Ù„Ø°ÙƒÙŠØ©
Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±ØŒ ÙŠØªÙ… Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹:
- Ø¥Ø´Ø¹Ø§Ø± Ø­Ø¬Ø² â†’ ØµÙØ­Ø© Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª
- Ø¥Ø´Ø¹Ø§Ø± Ø·Ù„Ø¨ â†’ ØµÙØ­Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù…Ø¹ Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø¯ÙˆØ¯
- Ø¥Ø´Ø¹Ø§Ø± Ø±Ø³Ø§Ù„Ø© â†’ ØµÙØ­Ø© Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©

---

### 7ï¸âƒ£ Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª

#### Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚ÙŠÙŠÙ…
```javascript
POST /api/ratings
{
  "targetUserId": "driver-uuid",
  "bookingId": "completed-booking-uuid",
  "rating": 5,  // 1-5 Ù†Ø¬ÙˆÙ…
  "comment": "Ø³Ø§Ø¦Ù‚ Ù…Ù…ØªØ§Ø²ØŒ Ø±Ø­Ù„Ø© Ù…Ø±ÙŠØ­Ø© ÙˆØ¢Ù…Ù†Ø©"
}
```

**Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…:**
- âœ… ÙŠÙ…ÙƒÙ† Ø§Ù„ØªÙ‚ÙŠÙŠÙ… ÙÙ‚Ø· Ø¨Ø¹Ø¯ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø±Ø­Ù„Ø©
- âœ… Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªÙ‚ÙŠÙŠÙ… Ù†ÙØ³ Ø§Ù„Ø­Ø¬Ø² Ù…Ø±ØªÙŠÙ†
- âœ… Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªÙ‚ÙŠÙŠÙ… Ù†ÙØ³Ùƒ
- âœ… ÙƒÙ„ Ù…Ù† Ø§Ù„Ø±Ø§ÙƒØ¨ ÙˆØ§Ù„Ø³Ø§Ø¦Ù‚ ÙŠÙ…ÙƒÙ†Ù‡Ù…Ø§ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…

#### Ø§Ø³ØªØ¹Ø±Ø§Ø¶ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª

**ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø³Ø§Ø¦Ù‚ Ù…Ø¹ÙŠÙ†:**
```javascript
GET /api/ratings/user/:userId
[
  {
    "id": "rating-1",
    "fromUser": "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯",
    "rating": 5,
    "comment": "Ø³Ø§Ø¦Ù‚ Ù…Ù…ØªØ§Ø²",
    "createdAt": "2025-11-15T10:00:00Z"
  },
  {
    "id": "rating-2",
    "fromUser": "Ø¹Ù„ÙŠ Ø­Ø³Ù†",
    "rating": 4,
    "comment": "Ø±Ø­Ù„Ø© Ø¬ÙŠØ¯Ø©",
    "createdAt": "2025-11-14T12:00:00Z"
  }
]
```

**Ù…ØªÙˆØ³Ø· Ø§Ù„ØªÙ‚ÙŠÙŠÙ…:**
```javascript
GET /api/ratings/user/:userId/average
{
  "userId": "uuid",
  "averageRating": 4.8,
  "totalRatings": 25
}
```

**Ø£Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ØªÙ‚ÙŠÙŠÙ…Ø§Ù‹:**
```javascript
GET /api/ratings/top-users
[
  {
    "userId": "uuid-1",
    "name": "Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ",
    "averageRating": 4.9,
    "totalRatings": 50
  }
]
```

---

### 8ï¸âƒ£ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ

#### Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
```javascript
GET /api/auth/profile
{
  "id": "uuid",
  "name": "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯",
  "email": "ahmed@example.com",
  "isDriver": false,
  "languagePreference": "ar",
  "emailVerified": true,
  "rating_avg": 4.8,
  "rating_count": 12,
  "createdAt": "2025-10-01T10:00:00Z"
}
```

#### ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
```javascript
PUT /api/auth/profile
{
  "name": "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯",
  "languagePreference": "en",
  "isDriver": true  // Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ ÙˆØ¶Ø¹ Ø§Ù„Ø³Ø§Ø¦Ù‚
}
```

#### ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
```javascript
PUT /api/auth/change-password
{
  "currentPassword": "OldPass123",
  "newPassword": "NewSecurePass456"
}
```

#### ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
```javascript
PUT /api/auth/update-email
{
  "newEmail": "newemail@example.com",
  "password": "CurrentPass123"  // Ù„Ù„ØªØ£ÙƒÙŠØ¯
}
// Ø³ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø§Ø¨Ø· ØªÙØ¹ÙŠÙ„ Ù„Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯
```

#### Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨
```javascript
DELETE /api/auth/delete-account
{
  "password": "CurrentPass123"  // Ù„Ù„ØªØ£ÙƒÙŠØ¯
}
```

#### Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
```javascript
GET /api/auth/stats
{
  "totalOffers": 0,      // Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ø±ÙˆØ¶ (Ù„Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†)
  "totalDemands": 8,     // Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
  "totalBookings": 15,   // Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª
  "averageRating": 4.8   // Ù…ØªÙˆØ³Ø· Ø§Ù„ØªÙ‚ÙŠÙŠÙ…
}
```

---

## ðŸ“Š Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

### Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (User Model)
```sql
CREATE TABLE users (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name VARCHAR(100) NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    is_driver BOOLEAN DEFAULT false,
    language_preference VARCHAR(10) DEFAULT 'ar',
    email_verified BOOLEAN DEFAULT false,
    email_verified_at TIMESTAMP,
    rating_avg DECIMAL(3,2) DEFAULT 0,
    rating_count INTEGER DEFAULT 0,
    is_verified BOOLEAN DEFAULT false,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);
```

### Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø·Ù„Ø¨ (Demand Model)
```sql
CREATE TABLE demands (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    passenger_id UUID NOT NULL REFERENCES users(id),
    from_city VARCHAR(100) NOT NULL,
    to_city VARCHAR(100) NOT NULL,
    earliest_time TIMESTAMP NOT NULL,
    latest_time TIMESTAMP,
    seats INTEGER NOT NULL CHECK (seats BETWEEN 1 AND 7),
    budget_max INTEGER NOT NULL,
    notes TEXT,
    is_active BOOLEAN DEFAULT true,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);
```

### Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¹Ø±Ø¶ (Offer Model)
```sql
CREATE TABLE offers (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    driver_id UUID NOT NULL REFERENCES users(id),
    from_city VARCHAR(100) NOT NULL,
    to_city VARCHAR(100) NOT NULL,
    departure_time TIMESTAMP NOT NULL,
    available_seats INTEGER NOT NULL CHECK (available_seats BETWEEN 1 AND 7),
    price_per_seat INTEGER NOT NULL,
    vehicle_type VARCHAR(50),
    vehicle_model VARCHAR(100),
    notes TEXT,
    is_active BOOLEAN DEFAULT true,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);
```

### Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø­Ø¬Ø² (Booking Model)
```sql
CREATE TABLE bookings (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    offer_id UUID NOT NULL REFERENCES offers(id),
    passenger_id UUID NOT NULL REFERENCES users(id),
    seats INTEGER NOT NULL CHECK (seats BETWEEN 1 AND 7),
    message TEXT,
    status VARCHAR(20) DEFAULT 'pending'
        CHECK (status IN ('pending', 'confirmed', 'rejected', 'cancelled', 'completed')),
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);
```

### Ù†Ù…ÙˆØ°Ø¬ Ø±Ø¯ Ø§Ù„Ø³Ø§Ø¦Ù‚ (Demand Response Model)
```sql
CREATE TABLE demand_responses (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    demand_id UUID NOT NULL REFERENCES demands(id),
    driver_id UUID NOT NULL REFERENCES users(id),
    offer_price INTEGER NOT NULL,
    available_seats INTEGER NOT NULL CHECK (available_seats BETWEEN 1 AND 7),
    message TEXT,
    status VARCHAR(20) DEFAULT 'pending'
        CHECK (status IN ('pending', 'accepted', 'rejected', 'cancelled')),
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);
```

### Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø±Ø³Ø§Ù„Ø© (Message Model)
```sql
CREATE TABLE messages (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    ride_type VARCHAR(10) NOT NULL CHECK (ride_type IN ('offer', 'demand')),
    ride_id UUID NOT NULL,
    sender_id UUID NOT NULL REFERENCES users(id),
    content TEXT NOT NULL,
    is_read BOOLEAN DEFAULT false,
    read_at TIMESTAMP,
    created_at TIMESTAMP DEFAULT NOW()
);
```

### Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± (Notification Model)
```sql
CREATE TABLE notifications (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID NOT NULL REFERENCES users(id),
    type VARCHAR(50) NOT NULL,
    title VARCHAR(255) NOT NULL,
    message TEXT NOT NULL,
    data JSONB,
    is_read BOOLEAN DEFAULT false,
    created_at TIMESTAMP DEFAULT NOW()
);
```

### Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªÙ‚ÙŠÙŠÙ… (Rating Model)
```sql
CREATE TABLE ratings (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    ride_id UUID NOT NULL,
    from_user_id UUID NOT NULL REFERENCES users(id),
    to_user_id UUID NOT NULL REFERENCES users(id),
    rating INTEGER NOT NULL CHECK (rating BETWEEN 1 AND 5),
    comment TEXT,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW(),
    UNIQUE(ride_id, from_user_id)
);
```

---

## ðŸŒ ÙˆØ§Ø¬Ù‡Ø§Øª Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª (APIs)

### Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© (Authentication)

| Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© | Ø§Ù„Ù…Ø³Ø§Ø± | Ø§Ù„ÙˆØµÙ |
|---------|--------|-------|
| POST | `/api/auth/register` | ØªØ³Ø¬ÙŠÙ„ Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯ |
| POST | `/api/auth/login` | ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ |
| GET | `/api/auth/profile` | Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ |
| PUT | `/api/auth/profile` | ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ |
| PUT | `/api/auth/change-password` | ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± |
| PUT | `/api/auth/update-email` | ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ |
| DELETE | `/api/auth/delete-account` | Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨ |
| GET | `/api/auth/stats` | Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… |

### Ø§Ù„Ø·Ù„Ø¨Ø§Øª (Demands)

| Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© | Ø§Ù„Ù…Ø³Ø§Ø± | Ø§Ù„ÙˆØµÙ |
|---------|--------|-------|
| POST | `/api/demands` | Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ |
| GET | `/api/demands` | Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª |
| GET | `/api/demands/search` | Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª |
| GET | `/api/demands/:id` | Ø¹Ø±Ø¶ Ø·Ù„Ø¨ Ù…Ø­Ø¯Ø¯ |
| GET | `/api/demands/my/demands` | Ø·Ù„Ø¨Ø§ØªÙŠ |
| PUT | `/api/demands/:id` | ØªØ¹Ø¯ÙŠÙ„ Ø·Ù„Ø¨ |
| PUT | `/api/demands/:id/deactivate` | Ø¥Ù„ØºØ§Ø¡ ØªÙØ¹ÙŠÙ„ Ø·Ù„Ø¨ |
| DELETE | `/api/demands/:id` | Ø­Ø°Ù Ø·Ù„Ø¨ |

### Ø§Ù„Ø¹Ø±ÙˆØ¶ (Offers)

| Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© | Ø§Ù„Ù…Ø³Ø§Ø± | Ø§Ù„ÙˆØµÙ |
|---------|--------|-------|
| GET | `/api/offers` | Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ø±ÙˆØ¶ |
| GET | `/api/offers/search` | Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø¹Ø±ÙˆØ¶ |
| GET | `/api/offers/:id` | Ø¹Ø±Ø¶ Ø¹Ø±Ø¶ Ù…Ø­Ø¯Ø¯ |
| GET | `/api/offers/categories` | ÙØ¦Ø§Øª Ø§Ù„Ø¹Ø±ÙˆØ¶ |

### Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª (Bookings)

| Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© | Ø§Ù„Ù…Ø³Ø§Ø± | Ø§Ù„ÙˆØµÙ |
|---------|--------|-------|
| POST | `/api/bookings` | Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯ |
| GET | `/api/bookings` | Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª |
| GET | `/api/bookings/:id` | Ø¹Ø±Ø¶ Ø­Ø¬Ø² Ù…Ø­Ø¯Ø¯ |
| GET | `/api/bookings/my/bookings` | Ø­Ø¬ÙˆØ²Ø§ØªÙŠ |
| GET | `/api/bookings/my/stats` | Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª |
| GET | `/api/bookings/my/pending-count` | Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø© |
| PUT | `/api/bookings/:id/cancel` | Ø¥Ù„ØºØ§Ø¡ Ø­Ø¬Ø² |

### Ø±Ø¯ÙˆØ¯ Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ† (Demand Responses)

| Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© | Ø§Ù„Ù…Ø³Ø§Ø± | Ø§Ù„ÙˆØµÙ |
|---------|--------|-------|
| GET | `/api/demand-responses/demand/:demandId` | Ø¹Ø±Ø¶ Ø±Ø¯ÙˆØ¯ Ø·Ù„Ø¨ Ù…Ø­Ø¯Ø¯ |
| PATCH | `/api/demand-responses/:id/status` | Ù‚Ø¨ÙˆÙ„/Ø±ÙØ¶ Ø±Ø¯ |
| GET | `/api/demand-responses/batch` | Ø¬Ù„Ø¨ Ø±Ø¯ÙˆØ¯ Ù…ØªØ¹Ø¯Ø¯Ø© |

### Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ (Messages)

| Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© | Ø§Ù„Ù…Ø³Ø§Ø± | Ø§Ù„ÙˆØµÙ |
|---------|--------|-------|
| POST | `/api/messages` | Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© |
| GET | `/api/messages/conversations` | Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª |
| GET | `/api/messages/recent` | Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø£Ø®ÙŠØ±Ø© |
| GET | `/api/messages/:rideType/:rideId` | Ø±Ø³Ø§Ø¦Ù„ Ø±Ø­Ù„Ø© Ù…Ø­Ø¯Ø¯Ø© |
| GET | `/api/messages/unread-count` | Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ØºÙŠØ± Ø§Ù„Ù…Ù‚Ø±ÙˆØ¡Ø© |
| PUT | `/api/messages/:id/read` | ØªØ­Ø¯ÙŠØ¯ Ø±Ø³Ø§Ù„Ø© ÙƒÙ…Ù‚Ø±ÙˆØ¡Ø© |

### Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª (Notifications)

| Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© | Ø§Ù„Ù…Ø³Ø§Ø± | Ø§Ù„ÙˆØµÙ |
|---------|--------|-------|
| GET | `/api/notifications` | Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª |
| GET | `/api/notifications/unread-count` | Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ØºÙŠØ± Ø§Ù„Ù…Ù‚Ø±ÙˆØ¡Ø© |
| GET | `/api/notifications/unread` | Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ØºÙŠØ± Ø§Ù„Ù…Ù‚Ø±ÙˆØ¡Ø© |
| GET | `/api/notifications/type/:type` | Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹ |
| PATCH | `/api/notifications/:id/read` | ØªØ­Ø¯ÙŠØ¯ Ø¥Ø´Ø¹Ø§Ø± ÙƒÙ…Ù‚Ø±ÙˆØ¡ |
| PATCH | `/api/notifications/mark-all-read` | ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ„ ÙƒÙ…Ù‚Ø±ÙˆØ¡ |
| DELETE | `/api/notifications/:id` | Ø­Ø°Ù Ø¥Ø´Ø¹Ø§Ø± |

### Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª (Ratings)

| Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© | Ø§Ù„Ù…Ø³Ø§Ø± | Ø§Ù„ÙˆØµÙ |
|---------|--------|-------|
| POST | `/api/ratings` | Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚ÙŠÙŠÙ… |
| GET | `/api/ratings` | Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª |
| GET | `/api/ratings/user/:userId` | ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ù…Ø³ØªØ®Ø¯Ù… |
| GET | `/api/ratings/user/:userId/average` | Ù…ØªÙˆØ³Ø· Ø§Ù„ØªÙ‚ÙŠÙŠÙ… |
| GET | `/api/ratings/top-users` | Ø£Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ØªÙ‚ÙŠÙŠÙ…Ø§Ù‹ |
| PUT | `/api/ratings/:id` | ØªØ¹Ø¯ÙŠÙ„ ØªÙ‚ÙŠÙŠÙ… |
| DELETE | `/api/ratings/:id` | Ø­Ø°Ù ØªÙ‚ÙŠÙŠÙ… |

---

## ðŸŽ­ Ø±Ø­Ù„Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (User Journeys)

### Ø§Ù„Ø±Ø­Ù„Ø© 1: Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„Ø­Ø¬Ø² Ø§Ù„Ù…Ø¨Ø§Ø´Ø±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    1. ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„                          â”‚
â”‚             Login as Passenger (isDriver: false)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                2. Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„Ø¹Ø±ÙˆØ¶                 â”‚
â”‚                  Navigate to /offers page                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   3. Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø±Ø­Ù„Ø§Øª                        â”‚
â”‚        Search: Ø¨ØºØ¯Ø§Ø¯ â†’ Ø§Ù„Ø¨ØµØ±Ø©, 20 Nov, 2 seats             â”‚
â”‚           Filter by: price 5000-15000, rating > 4           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               4. Ø§Ø³ØªØ¹Ø±Ø§Ø¶ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø­Ø«                        â”‚
â”‚   View offers with driver info, ratings, price, seats      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              5. Ø§Ø®ØªÙŠØ§Ø± Ø±Ø­Ù„Ø© Ù…Ù†Ø§Ø³Ø¨Ø©                          â”‚
â”‚         Select offer by "Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ" (Rating: 4.8)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  6. ÙØªØ­ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø­Ø¬Ø²                        â”‚
â”‚         BookingModal opens with offer details               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            7. ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø² ÙˆØ¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø©                     â”‚
â”‚    Confirm: 2 seats, Message: "Ø³Ø£ÙƒÙˆÙ† Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø­Ø·Ø©"            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             8. Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø¬Ø² (Ø­Ø§Ù„Ø©: pending)                 â”‚
â”‚         Booking created, status: "pending"                  â”‚
â”‚         Real-time notification sent to driver               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          9. Ø§Ø³ØªÙ„Ø§Ù… Ø¥Ø´Ø¹Ø§Ø± Ø¨Ù‚Ø¨ÙˆÙ„/Ø±ÙØ¶ Ø§Ù„Ø³Ø§Ø¦Ù‚                  â”‚
â”‚     Notification: "Ø§Ù„Ø³Ø§Ø¦Ù‚ Ù…Ø­Ù…Ø¯ Ù‚Ø¨Ù„ Ø­Ø¬Ø²Ùƒ" âœ…                â”‚
â”‚              Booking status: "confirmed"                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            10. Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø³Ø§Ø¦Ù‚ Ø¹Ø¨Ø± Ø§Ù„Ø±Ø³Ø§Ø¦Ù„                â”‚
â”‚      Message driver: "Ù…ØªÙ‰ Ø³ØªØµÙ„ØŸ" â†’ "Ø®Ù„Ø§Ù„ 10 Ø¯Ù‚Ø§Ø¦Ù‚"          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               11. Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø±Ø­Ù„Ø© ÙˆØ§Ù„ØªÙ‚ÙŠÙŠÙ…                     â”‚
â”‚         After ride: Booking status: "completed"             â”‚
â”‚           Rate driver: 5 stars + comment                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ø§Ù„Ø±Ø­Ù„Ø© 2: Ù†Ø´Ø± Ø·Ù„Ø¨ ÙˆØ§Ù„Ø§Ù†ØªØ¸Ø§Ø±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   1. ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙƒØ±Ø§ÙƒØ¨                     â”‚
â”‚                  Login as Passenger                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               2. Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª                  â”‚
â”‚               Navigate to /demands page                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  3. Ù†Ø´Ø± Ø·Ù„Ø¨ Ø±Ø­Ù„Ø© Ø¬Ø¯ÙŠØ¯                       â”‚
â”‚       POST demand: Ø¨ØºØ¯Ø§Ø¯ â†’ Ø£Ø±Ø¨ÙŠÙ„, 6-10 AM                   â”‚
â”‚           2 seats, budget: 12000 IQD                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             4. Ù†Ø´Ø± Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­ (is_active: true)            â”‚
â”‚        Demand published, visible to all drivers             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          5. Ø§Ù„Ø³Ø§Ø¦Ù‚ÙˆÙ† ÙŠØ±Ø¯ÙˆÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨                       â”‚
â”‚   Driver "Ø¹Ù„ÙŠ" responds: 10000 IQD, 4 seats                â”‚
â”‚   Driver "Ø³Ø¹Ø¯" responds: 11000 IQD, 3 seats                â”‚
â”‚   Notifications sent to passenger                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            6. Ø§Ø³ØªØ¹Ø±Ø§Ø¶ Ø±Ø¯ÙˆØ¯ Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†                        â”‚
â”‚     View responses with driver ratings and prices           â”‚
â”‚         Ø¹Ù„ÙŠ (4.9â˜…): 10000 IQD, 4 seats                      â”‚
â”‚         Ø³Ø¹Ø¯ (4.7â˜…): 11000 IQD, 3 seats                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            7. Ù‚Ø¨ÙˆÙ„ Ø£ÙØ¶Ù„ Ø±Ø¯ (Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø³Ø§Ø¦Ù‚)                 â”‚
â”‚    Accept response from "Ø¹Ù„ÙŠ" (best rating + price)         â”‚
â”‚       Response status: "accepted"                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        8. Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ø³Ø§Ø¦Ù‚ Ø§Ù„Ù…Ø®ØªØ§Ø±                        â”‚
â”‚    Notification to Ø¹Ù„ÙŠ: "ØªÙ… Ù‚Ø¨ÙˆÙ„ Ø±Ø¯Ùƒ Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨"            â”‚
â”‚         Ride arrangement confirmed                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              9. Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ Ø¹Ø¨Ø± Ø§Ù„Ø±Ø³Ø§Ø¦Ù„                         â”‚
â”‚   Message driver to coordinate pickup location/time         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             10. Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø±Ø­Ù„Ø© ÙˆØ§Ù„ØªÙ‚ÙŠÙŠÙ…                       â”‚
â”‚       After ride: Rate driver 5 stars                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ø§Ù„Ø±Ø­Ù„Ø© 3: Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Ø¥Ø´Ø¹Ø§Ø± Ø¬Ø¯ÙŠØ¯ ÙÙŠ Ø¬Ø±Ø³ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ðŸ””                  â”‚
â”‚      "Ø§Ù„Ø³Ø§Ø¦Ù‚ Ù…Ø­Ù…Ø¯ Ù‚Ø¨Ù„ Ø­Ø¬Ø²Ùƒ Ù„Ø±Ø­Ù„Ø© Ø¨ØºØ¯Ø§Ø¯-Ø§Ù„Ø¨ØµØ±Ø©"             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±                              â”‚
â”‚          Click notification in dropdown                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª                  â”‚
â”‚      Auto-navigate to /bookings with booking details        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø­Ø¬Ø² Ø§Ù„Ù…Ù‚Ø¨ÙˆÙ„                         â”‚
â”‚    View confirmed booking with driver contact option        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ù„Ù„Ø³Ø§Ø¦Ù‚                              â”‚
â”‚       Open chat and coordinate ride details                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš™ï¸ Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ©

### ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©

#### Backend (Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø®Ù„ÙÙŠØ©)
```javascript
{
  "framework": "Express.js 5.x",
  "language": "JavaScript (Node.js 22)",
  "database": "PostgreSQL 16",
  "authentication": "JWT (jsonwebtoken)",
  "realtime": "Socket.io",
  "security": [
    "helmet - CSP configuration",
    "bcrypt - password hashing",
    "rate-limiting - DDoS protection",
    "CORS - Cross-origin control"
  ],
  "validation": "Custom middleware",
  "logging": "Winston + Morgan",
  "monitoring": "Sentry",
  "caching": "Redis (optional)"
}
```

#### Frontend (Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ©)
```javascript
{
  "framework": "React 18",
  "language": "JavaScript (ES6+)",
  "stateManagement": "Context API",
  "styling": "CSS Modules + Tailwind-like utility classes",
  "routing": "React Router v6",
  "httpClient": "Fetch API",
  "realtime": "Socket.io-client",
  "forms": "Controlled components",
  "notifications": "Custom toast system"
}
```

### Ù…Ø¹Ù…Ø§Ø±ÙŠØ© Ø§Ù„ÙƒÙˆØ¯ (Code Architecture)

#### Backend Structure
```
server/
â”œâ”€â”€ app.js                    # Express app configuration
â”œâ”€â”€ server.js                 # Server entry point
â”œâ”€â”€ config/                   # Configuration files
â”‚   â”œâ”€â”€ env.js               # Environment variables
â”‚   â”œâ”€â”€ logger.js            # Winston logger
â”‚   â”œâ”€â”€ sentry.js            # Error tracking
â”‚   â””â”€â”€ swagger.js           # API documentation
â”œâ”€â”€ controllers/             # Business logic
â”‚   â”œâ”€â”€ auth.controller.js
â”‚   â”œâ”€â”€ demands.controller.js
â”‚   â”œâ”€â”€ offers.controller.js
â”‚   â”œâ”€â”€ bookings.controller.js
â”‚   â”œâ”€â”€ messages.controller.js
â”‚   â”œâ”€â”€ notifications.controller.js
â”‚   â””â”€â”€ ratings.controller.js
â”œâ”€â”€ middlewares/             # Custom middleware
â”‚   â”œâ”€â”€ auth.js              # JWT verification
â”‚   â”œâ”€â”€ rateLimiters.js      # Rate limiting
â”‚   â”œâ”€â”€ validation.js        # Input validation
â”‚   â”œâ”€â”€ error.js             # Error handling
â”‚   â””â”€â”€ cacheControl.js      # Caching headers
â”œâ”€â”€ models/                  # Database models (if using ORM)
â”œâ”€â”€ routes/                  # API routes
â”‚   â”œâ”€â”€ auth.routes.js
â”‚   â”œâ”€â”€ demands.routes.js
â”‚   â”œâ”€â”€ offers.routes.js
â”‚   â”œâ”€â”€ bookings.routes.js
â”‚   â”œâ”€â”€ messages.routes.js
â”‚   â”œâ”€â”€ notifications.routes.js
â”‚   â””â”€â”€ ratings.routes.js
â”œâ”€â”€ database/                # Database management
â”‚   â”œâ”€â”€ migrations/          # SQL migration files
â”‚   â””â”€â”€ pool.js             # PostgreSQL connection pool
â””â”€â”€ utils/                   # Utility functions
    â”œâ”€â”€ emailService.js      # Email sending
    â””â”€â”€ AppError.js          # Custom error class
```

#### Frontend Structure
```
client/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.js                    # Main app component
â”‚   â”œâ”€â”€ index.js                  # Entry point
â”‚   â”œâ”€â”€ index.css                 # Global styles
â”‚   â”œâ”€â”€ components/               # Reusable components
â”‚   â”‚   â”œâ”€â”€ BookingModal.jsx      # Booking confirmation modal
â”‚   â”‚   â”œâ”€â”€ NotificationBell.jsx  # Notification icon
â”‚   â”‚   â”œâ”€â”€ BottomNav.js          # Mobile navigation
â”‚   â”‚   â”œâ”€â”€ notifications/
â”‚   â”‚   â”‚   â”œâ”€â”€ NotificationDropdown.jsx
â”‚   â”‚   â”‚   â””â”€â”€ NotificationCard.jsx
â”‚   â”‚   â””â”€â”€ offers/
â”‚   â”‚       â”œâ”€â”€ OfferCard.jsx
â”‚   â”‚       â”œâ”€â”€ CollapsibleSearchForm.jsx
â”‚   â”‚       â””â”€â”€ OfferCard.module.css
â”‚   â”œâ”€â”€ pages/                    # Page components
â”‚   â”‚   â”œâ”€â”€ Home.js
â”‚   â”‚   â”œâ”€â”€ Login.js
â”‚   â”‚   â”œâ”€â”€ Register.js
â”‚   â”‚   â”œâ”€â”€ Profile.js
â”‚   â”‚   â”œâ”€â”€ demands/
â”‚   â”‚   â”‚   â”œâ”€â”€ PostDemand.js
â”‚   â”‚   â”‚   â””â”€â”€ ViewDemands.js
â”‚   â”‚   â”œâ”€â”€ offers/
â”‚   â”‚   â”‚   â””â”€â”€ ViewOffers.js
â”‚   â”‚   â”œâ”€â”€ Bookings.js
â”‚   â”‚   â”œâ”€â”€ Messages.js
â”‚   â”‚   â”œâ”€â”€ NotificationsPage.jsx
â”‚   â”‚   â””â”€â”€ RatingManagement.js
â”‚   â”œâ”€â”€ context/                  # React Context
â”‚   â”‚   â”œâ”€â”€ AuthContext.js        # Authentication state
â”‚   â”‚   â”œâ”€â”€ NotificationsContext.js
â”‚   â”‚   â””â”€â”€ LanguageContext.js
â”‚   â”œâ”€â”€ services/                 # API services
â”‚   â”‚   â””â”€â”€ api.js                # Centralized API calls
â”‚   â””â”€â”€ styles/                   # Style files
â”‚       â”œâ”€â”€ mobile.css
â”‚       â””â”€â”€ enhancements.css
â””â”€â”€ public/
    â”œâ”€â”€ index.html
    â””â”€â”€ manifest.json
```

### ØªØ¯ÙÙ‚ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙÙ†ÙŠØ© (Technical Data Flow)

#### 1. Ù…Ø«Ø§Ù„: Ø­Ø¬Ø² Ø±Ø­Ù„Ø© (Booking Flow)

```javascript
// Frontend: BookingModal.jsx
const handleBooking = async () => {
  try {
    // 1. Frontend sends POST request
    const response = await fetch('/api/bookings', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${token}`
      },
      body: JSON.stringify({
        offerId: offer.id,
        seats: 2,
        message: "Ø³Ø£ÙƒÙˆÙ† Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø­Ø·Ø©"
      })
    });

    const data = await response.json();

    // 2. Show success notification
    showToast('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø­Ø¬Ø² Ø¨Ù†Ø¬Ø§Ø­');

    // 3. Navigate to bookings page
    navigate('/bookings');

  } catch (error) {
    showToast('Ø­Ø¯Ø« Ø®Ø·Ø£: ' + error.message, 'error');
  }
};

// Backend: bookings.controller.js
const createBooking = async (req, res, next) => {
  try {
    // 1. Verify authentication (middleware already did)
    const passengerId = req.user.id;

    // 2. Validate input
    const { offerId, seats, message } = req.body;
    if (!offerId || !seats) {
      throw new AppError('Offer ID and seats are required', 400);
    }

    // 3. Check offer exists and has available seats
    const offerQuery = await pool.query(
      'SELECT * FROM offers WHERE id = $1 AND is_active = true',
      [offerId]
    );

    if (offerQuery.rows.length === 0) {
      throw new AppError('Offer not found', 404);
    }

    const offer = offerQuery.rows[0];

    // 4. Check available seats
    if (offer.available_seats < seats) {
      throw new AppError('Not enough seats available', 400);
    }

    // 5. Create booking in database
    const bookingResult = await pool.query(`
      INSERT INTO bookings (offer_id, passenger_id, seats, message, status)
      VALUES ($1, $2, $3, $4, 'pending')
      RETURNING *
    `, [offerId, passengerId, seats, message || null]);

    const booking = bookingResult.rows[0];

    // 6. Send real-time notification to driver via Socket.io
    const io = req.app.get('io');
    io.to(`user_${offer.driver_id}`).emit('new_booking', {
      bookingId: booking.id,
      passengerName: req.user.name,
      seats: seats,
      message: message
    });

    // 7. Create notification in database
    await pool.query(`
      INSERT INTO notifications (user_id, type, title, message, data)
      VALUES ($1, 'booking_created', 'Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯', $2, $3)
    `, [
      offer.driver_id,
      `Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯ Ù…Ù† ${req.user.name}`,
      JSON.stringify({ bookingId: booking.id, offerId })
    ]);

    // 8. Return success response
    res.status(201).json({
      success: true,
      booking: booking
    });

  } catch (error) {
    next(error);  // Pass to error handler
  }
};
```

#### 2. Ù…Ø«Ø§Ù„: Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„ÙÙˆØ±ÙŠØ© (Real-time Notifications)

```javascript
// Backend: Socket.io setup in server.js
const io = require('socket.io')(httpServer, {
  cors: {
    origin: config.corsOrigin,
    credentials: true
  }
});

// Authentication middleware for Socket.io
io.use(async (socket, next) => {
  const token = socket.handshake.auth.token;
  if (!token) return next(new Error('Authentication error'));

  try {
    const decoded = jwt.verify(token, config.jwtSecret);
    socket.userId = decoded.id;
    next();
  } catch (err) {
    next(new Error('Invalid token'));
  }
});

io.on('connection', (socket) => {
  console.log(`User ${socket.userId} connected`);

  // Join user-specific room
  socket.join(`user_${socket.userId}`);

  // Handle disconnection
  socket.on('disconnect', () => {
    console.log(`User ${socket.userId} disconnected`);
  });
});

// Make io accessible in controllers
app.set('io', io);

// Frontend: Socket.io client connection
import { io } from 'socket.io-client';

const socket = io('https://toosila-backend-production.up.railway.app', {
  auth: {
    token: localStorage.getItem('token')
  }
});

// Listen for booking notifications
socket.on('new_booking', (data) => {
  // Show notification
  showNotification({
    title: 'Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯',
    message: `Ø­Ø¬Ø² Ù…Ù† ${data.passengerName} - ${data.seats} Ù…Ù‚Ø§Ø¹Ø¯`,
    type: 'booking_created'
  });

  // Update bookings list
  fetchBookings();
});

// Listen for booking acceptance
socket.on('booking_accepted', (data) => {
  showNotification({
    title: 'ØªÙ… Ù‚Ø¨ÙˆÙ„ Ø­Ø¬Ø²Ùƒ',
    message: data.message,
    type: 'booking_accepted'
  });
});
```

### Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø­Ù…Ø§ÙŠØ© (Security)

#### 1. Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© (Authentication)
```javascript
// JWT Token Generation
const token = jwt.sign(
  { id: user.id, email: user.email },
  process.env.JWT_SECRET,
  { expiresIn: '7d' }
);

// Token Verification Middleware
const authenticateToken = (req, res, next) => {
  const authHeader = req.headers['authorization'];
  const token = authHeader && authHeader.split(' ')[1];

  if (!token) {
    return res.status(401).json({
      success: false,
      error: { code: 'NO_TOKEN', message: 'Access token required' }
    });
  }

  jwt.verify(token, process.env.JWT_SECRET, (err, user) => {
    if (err) {
      return res.status(403).json({
        success: false,
        error: { code: 'INVALID_TOKEN', message: 'Invalid token' }
      });
    }
    req.user = user;
    next();
  });
};
```

#### 2. ØªØ´ÙÙŠØ± ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± (Password Hashing)
```javascript
const bcrypt = require('bcrypt');

// Hashing password during registration
const saltRounds = 12;
const password_hash = await bcrypt.hash(password, saltRounds);

// Verifying password during login
const isPasswordValid = await bcrypt.compare(password, user.password_hash);
```

#### 3. Ø§Ù„Ø­Ù…Ø§ÙŠØ© Ù…Ù† Ø§Ù„Ù‡Ø¬Ù…Ø§Øª (Rate Limiting)
```javascript
const rateLimit = require('express-rate-limit');

// General API rate limiter
const generalLimiter = rateLimit({
  windowMs: 15 * 60 * 1000,  // 15 minutes
  max: 100,                   // 100 requests per window
  message: 'Too many requests, please try again later'
});

// Stricter limiter for auth endpoints
const authLimiter = rateLimit({
  windowMs: 15 * 60 * 1000,
  max: 5,  // Only 5 login attempts per 15 minutes
  message: 'Too many login attempts'
});

app.use('/api/', generalLimiter);
app.use('/api/auth/login', authLimiter);
```

#### 4. Content Security Policy (CSP)
```javascript
const helmet = require('helmet');

app.use(helmet({
  contentSecurityPolicy: {
    directives: {
      defaultSrc: ["'self'"],
      scriptSrc: ["'self'"],
      styleSrc: ["'self'", "'unsafe-inline'", "https://fonts.googleapis.com"],
      imgSrc: ["'self'", "data:", "https:"],
      connectSrc: ["'self'", "https://toosila-backend-production.up.railway.app"],
      fontSrc: ["'self'", "https://fonts.gstatic.com"],
      mediaSrc: ["'self'", "data:"],
      objectSrc: ["'none'"],
      frameSrc: ["'none'"]
    }
  }
}));
```

### Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª ÙˆØ§Ù„Ø£Ø¯Ø§Ø¡ (Performance Optimizations)

#### 1. Caching
```javascript
// Cache middleware for offers list
const cacheList = (req, res, next) => {
  res.set({
    'Cache-Control': 'public, max-age=300',  // 5 minutes
    'ETag': generateETag(req.url)
  });
  next();
};

app.get('/api/offers', cacheList, getOffers);
```

#### 2. Database Indexing
```sql
-- Indexes for faster queries
CREATE INDEX idx_offers_cities ON offers(from_city, to_city);
CREATE INDEX idx_offers_departure ON offers(departure_time);
CREATE INDEX idx_bookings_passenger ON bookings(passenger_id);
CREATE INDEX idx_bookings_offer ON bookings(offer_id);
CREATE INDEX idx_demands_passenger ON demands(passenger_id);
CREATE INDEX idx_notifications_user ON notifications(user_id, is_read);
```

#### 3. Pagination
```javascript
// Paginated results
const page = parseInt(req.query.page) || 1;
const limit = parseInt(req.query.limit) || 20;
const offset = (page - 1) * limit;

const result = await pool.query(`
  SELECT * FROM offers
  WHERE is_active = true
  ORDER BY created_at DESC
  LIMIT $1 OFFSET $2
`, [limit, offset]);

// Include pagination metadata
res.json({
  success: true,
  offers: result.rows,
  pagination: {
    page,
    limit,
    total: totalCount,
    totalPages: Math.ceil(totalCount / limit)
  }
});
```

---

## ðŸ“± ØµÙØ­Ø§Øª Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ©

### Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„Ø±Ø§ÙƒØ¨

| Ø§Ù„ØµÙØ­Ø© | Ø§Ù„Ù…Ø³Ø§Ø± | Ø§Ù„ÙˆØµÙ | Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© |
|--------|--------|-------|-------------------|
| **Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©** | `/` | Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©ØŒ Ø¥Ø­ØµØ§Ø¦ÙŠØ§ØªØŒ Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø© | Home.js, Stats |
| **Ø§Ù„ØªØ³Ø¬ÙŠÙ„** | `/register` | Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯ | Register.js, Form |
| **ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„** | `/login` | Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ø­Ø³Ø§Ø¨ | Login.js, AuthForm |
| **Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ** | `/profile` | Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ØŒ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª | Profile.js, Stats |
| **Ø§Ù„Ø¹Ø±ÙˆØ¶** | `/offers` | ØªØµÙØ­ Ø§Ù„Ø±Ø­Ù„Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© | ViewOffers.js, OfferCard |
| **Ø§Ù„Ø·Ù„Ø¨Ø§Øª** | `/demands` | Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø±Ø­Ù„Ø§Øª | ViewDemands.js, PostDemand |
| **Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª** | `/bookings` | Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª | Bookings.js, BookingCard |
| **Ø§Ù„Ø±Ø³Ø§Ø¦Ù„** | `/messages` | Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª | Messages.js, ChatWindow |
| **Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª** | `/notifications` | Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª | NotificationsPage.jsx |
| **Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª** | `/ratings` | Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª | RatingManagement.js |

---

## ðŸŽ¨ Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© (UI Components)

### Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

```javascript
// BookingModal.jsx - Ù†Ù…ÙˆØ°Ø¬ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø²
const BookingModal = ({ offer, onClose, onConfirm }) => {
  const [seats, setSeats] = useState(1);
  const [message, setMessage] = useState('');

  return (
    <div className="modal-overlay">
      <div className="modal-content">
        <h2>ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø²</h2>

        <div className="offer-summary">
          <p>Ø§Ù„Ù…Ø³Ø§Ø±: {offer.fromCity} â†’ {offer.toCity}</p>
          <p>Ø§Ù„Ø³Ø§Ø¦Ù‚: {offer.driverName} (â­ {offer.driverRating})</p>
          <p>Ø§Ù„Ø³Ø¹Ø±: {offer.pricePerSeat} Ø¯ÙŠÙ†Ø§Ø±/Ù…Ù‚Ø¹Ø¯</p>
        </div>

        <input
          type="number"
          min="1"
          max={offer.availableSeats}
          value={seats}
          onChange={(e) => setSeats(e.target.value)}
          placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù‚Ø§Ø¹Ø¯"
        />

        <textarea
          value={message}
          onChange={(e) => setMessage(e.target.value)}
          placeholder="Ø±Ø³Ø§Ù„Ø© Ø§Ø®ØªÙŠØ§Ø±ÙŠØ© Ù„Ù„Ø³Ø§Ø¦Ù‚"
        />

        <div className="modal-actions">
          <button onClick={() => onConfirm({ seats, message })}>
            ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø²
          </button>
          <button onClick={onClose}>Ø¥Ù„ØºØ§Ø¡</button>
        </div>
      </div>
    </div>
  );
};

// NotificationBell.jsx - Ø¬Ø±Ø³ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
const NotificationBell = () => {
  const [unreadCount, setUnreadCount] = useState(0);
  const [showDropdown, setShowDropdown] = useState(false);

  useEffect(() => {
    // Fetch unread count
    fetchUnreadCount();

    // Listen for real-time notifications
    socket.on('new_notification', () => {
      setUnreadCount(prev => prev + 1);
    });
  }, []);

  return (
    <div className="notification-bell">
      <button onClick={() => setShowDropdown(!showDropdown)}>
        ðŸ””
        {unreadCount > 0 && <span className="badge">{unreadCount}</span>}
      </button>

      {showDropdown && <NotificationDropdown />}
    </div>
  );
};

// OfferCard.jsx - Ø¨Ø·Ø§Ù‚Ø© Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø­Ù„Ø©
const OfferCard = ({ offer, onBook }) => {
  return (
    <div className="offer-card">
      <div className="driver-info">
        <img src={offer.driverAvatar} alt={offer.driverName} />
        <div>
          <h3>{offer.driverName}</h3>
          <span className="rating">â­ {offer.driverRating}</span>
        </div>
      </div>

      <div className="route-info">
        <p className="route">
          {offer.fromCity} â†’ {offer.toCity}
        </p>
        <p className="time">{formatDate(offer.departureTime)}</p>
      </div>

      <div className="details">
        <span>ðŸ‘¥ {offer.availableSeats} Ù…Ù‚Ø§Ø¹Ø¯</span>
        <span>ðŸ’° {offer.pricePerSeat} Ø¯.Ø¹</span>
      </div>

      <button onClick={() => onBook(offer)} className="book-button">
        Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†
      </button>
    </div>
  );
};
```

---

## ðŸ”§ Ø®Ø§ØªÙ…Ø© ØªÙ‚Ù†ÙŠØ©

### Ù…Ù„Ø®Øµ Ù…Ø¹Ù…Ø§Ø±ÙŠ

ØªØ·Ø¨ÙŠÙ‚ **ØªÙˆØµÙŠÙ„Ø©** Ù…Ø¨Ù†ÙŠ Ø¹Ù„Ù‰ Ù…Ø¹Ù…Ø§Ø±ÙŠØ© **Ø«Ù„Ø§Ø«ÙŠØ© Ø§Ù„Ø·Ø¨Ù‚Ø§Øª (3-Tier Architecture)**:

1. **Ø·Ø¨Ù‚Ø© Ø§Ù„Ø¹Ø±Ø¶ (Presentation Layer):** React Frontend
2. **Ø·Ø¨Ù‚Ø© Ø§Ù„Ù…Ù†Ø·Ù‚ (Business Logic Layer):** Express.js Backend
3. **Ø·Ø¨Ù‚Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Data Layer):** PostgreSQL Database

### Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ©

âœ… **RESTful API** Ù…Ø¹ ØªÙˆØ«ÙŠÙ‚ Swagger
âœ… **Real-time Communication** Ø¹Ø¨Ø± Socket.io
âœ… **JWT Authentication** Ø¢Ù…Ù†
âœ… **Rate Limiting** Ù„Ù„Ø­Ù…Ø§ÙŠØ© Ù…Ù† Ø§Ù„Ù‡Ø¬Ù…Ø§Øª
âœ… **Input Validation** Ø´Ø§Ù…Ù„Ø©
âœ… **Error Handling** Ø§Ø­ØªØ±Ø§ÙÙŠ
âœ… **Caching Strategy** Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡
âœ… **Database Indexing** Ù„Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø©
âœ… **Responsive Design** Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ ÙˆØ§Ù„ÙˆÙŠØ¨
âœ… **Multi-language Support** (Ø¹Ø±Ø¨ÙŠØŒ Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØŒ ÙƒØ±Ø¯ÙŠ)

### Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ù…ÙˆØ«ÙˆÙ‚ÙŠØ©

ðŸ”’ **Security Features:**
- Password hashing (bcrypt)
- JWT token expiration
- CORS protection
- Helmet CSP headers
- Rate limiting
- SQL injection prevention (parameterized queries)

ðŸš€ **Performance:**
- Query optimization
- Connection pooling
- Result caching
- Lazy loading
- Pagination

ðŸ“Š **Monitoring:**
- Winston logging
- Sentry error tracking
- Health check endpoints
- Request metrics

---

## ðŸ“ž Ø§Ù„Ø¯Ø¹Ù… ÙˆØ§Ù„ØªÙˆØ§ØµÙ„

Ù„Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø£Ùˆ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ØªÙ‚Ù†ÙŠØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø±:
- ðŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ: support@toosila.app
- ðŸŒ Ø§Ù„Ù…ÙˆÙ‚Ø¹: https://toosila-backend-production.up.railway.app
- ðŸ“± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚: Ù…ØªØ§Ø­ Ø¹Ù„Ù‰ Ø§Ù„ÙˆÙŠØ¨

---

**ØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ Ù‡Ø°Ø§ Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø¨ÙˆØ§Ø³Ø·Ø©:** Ø®Ø¨ÙŠØ± ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ§Øª
**Ø§Ù„ØªØ§Ø±ÙŠØ®:** Ù†ÙˆÙÙ…Ø¨Ø± 2025
**Ø§Ù„Ø¥ØµØ¯Ø§Ø±:** 1.0
**Ø§Ù„Ø­Ø§Ù„Ø©:** Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¥Ù†ØªØ§Ø¬ âœ…
